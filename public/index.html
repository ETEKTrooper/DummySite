<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Add your meta tags and styles -->
</head>
<body>
    <div class="container">
        <h2>Super Secret Sign In</h2>
        <form id="signinForm">
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <button type="button" id="signinButton">Sign In</button>
        </form>
    </div>

    <div class="modal" id="modal">
        <div class="warning-sign">âš </div>
        <p class="bold-text">Nice try. I know what you are thinking...Burp?</p>
        <button type="button" onclick="closeModal()">Good Luck</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const signinButton = document.getElementById('signinButton');
            signinButton.addEventListener('click', handleLogin);
        });

        function showModal() {
            document.getElementById('modal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function handleLogin() {
            const usernameInput = document.querySelector('#username').value;
            const passwordInput = document.querySelector('#password').value;

            fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ username: usernameInput, password: passwordInput }),
            })
            .then(response => {
                if (response.status === 200) {
                    // Successful login
                    // Redirect the user to the /admin page
                    window.location.href = '/admin';
                } else {
                    showModal();
                }
            });
        }
    </script>
</body>
</html>
